## 目录

- [简介](#%E7%AE%80%E4%BB%8B)
- [区别](#%E5%8C%BA%E5%88%AB)
- [rem 单位如何转换为像素值](#rem-%E5%8D%95%E4%BD%8D%E5%A6%82%E4%BD%95%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%83%8F%E7%B4%A0%E5%80%BC)
- [em 单位如何转换为像素值](#em-%E5%8D%95%E4%BD%8D%E5%A6%82%E4%BD%95%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%83%8F%E7%B4%A0%E5%80%BC)
- [em 单位的遗传效果](#em-%E5%8D%95%E4%BD%8D%E7%9A%84%E9%81%97%E4%BC%A0%E6%95%88%E6%9E%9C)
- [为什么要使用？](#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%EF%BC%9F)
- [总结](#%E6%80%BB%E7%BB%93)
- [参考资料](#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99)

## 简介

[⬆️ 返回目录](#%E7%9B%AE%E5%BD%95)

`em` 和 `rem` 都是灵活、可扩展的单位，由浏览器转换为像素值，具体取决于你的设计中的字体大小设置。

如果你使用值 `1em` 或 `1rem`，它可以被浏览器翻译成 从 `16px` 到 `160px` 或其他任意值。

## 区别

[⬆️ 返回目录](#%E7%9B%AE%E5%BD%95)

`em` 和 `rem` 单位提供的这种灵活性和工作方式都很相似，所以最大的问题是，我们何时应使用 `em` 值，何时应使用 `rem` 值呢？

**主要区别**：

`em` 和 `rem` 单位之间的区别是浏览器根据谁来转化成 `px` 值，理解这种差异是决定何时使用哪个单元的关键。

## rem 单位如何转换为像素值

[⬆️ 返回目录](#%E7%9B%AE%E5%BD%95)

当使用 `rem` 单位，他们转化为像素大小取决于页根元素的字体大小，即 `<html>` 元素的字体大小。根元素字体大小乘以设置的 `rem` 值。

例如，根元素的字体大小 `16px`（ 一般浏览器默认为 `16px` ），`10rem` 将等同于 `160px`，即 10 x 16 = 160。

```css
html {
    font-size: 16px;
    padding: 10rem; /* 等同于 padding: 160px */
}
```

需要注意的是，如果 `<html>` 元素的字体大小被改变了，其他元素中以 `rem` 的最终值也将会发生改变。

## em 单位如何转换为像素值

[⬆️ 返回目录](#%E7%9B%AE%E5%BD%95)

当使用 `em` 单位时，像素值将是 `em` 值乘以使用 `em` 单位的**元素**的字体大小。

例如，如果一个 `<div>` 有 `18px` 字体大小，`10em` 将等同于 `180px`，即 10 × 18 = 180。

```css
.div {
    font-size: 18px;
    padding: 10em; /* 等同于 padding: 180px */
}
```

## em 单位的遗传效果

[⬆️ 返回目录](#%E7%9B%AE%E5%BD%95)

有一个比较普遍的误解，认为 `em` 单位是相对于父元素的字体大小。事实上，根据 W3C 标准，它们是相对于使用 `em` 单位的元素的字体大小。

父元素的字体大小可以影响 `em` 值，但这种情况的发生，纯粹是因为继承。那么这是为什么以及它是如何起作用的呢？

---

使用 `em` 单位存在继承的时候，情况会变得比较棘手，因为每个元素将自动继承其父元素的字体大小。继承效果只能被明确的字体单位覆盖，比如 `px`、`vw`。

使用 `em` 单位的元素字体大小根据它们来定。**但该元素可能继承其父元素的字体大小**，而父元素又继承其父元素的字体大小，等等。 因此，以 `em` 为单位的元素字体大小可能会受到其任何父元素的字体大小影响。

继承的场景分为以下几种：

1. 子元素 div 里面 `padding` 值为 `1.5em`，一般根元素字体大小默认为 `16px`：

    ```css
    .sup {
        /* 父元素没有显示设置字体大小，表继承 */
        /* 一般页面默认根元素字体大小为 16px */
    }
    .sub {
        padding: 1.5em;
        /* 等同于 padding: 24 (1.5 x 16 = 24) */
    }
    ```

2. 父子元素中间加一层 `wrapper` 并设置字体大小

    ```css
    .sup {
        /* none */
    }

    .wrapper {
        font-size: 1.25em;
        /* wrapper 继承了 sup 的 font-size 大小 */
        /* 在继承的基础上计算并重新赋值给 font-size */
        /* 等同于 font-size: 20 (1.25 x 16 = 20) */
    }

    .sub {
        padding: 1.5em;
        /* 这时候继承的是 wrapper 而不是 sup 了 */
        /* 等同于 padding: 30 (1.5 x 20 = 30) */
    }
    ```

3. 在 **情景2** 中的 `sub` 元素上设置 `font-size` 属性：

    ```css
    .sup {
        /* none */
    }

    .wrapper {
        font-size: 1.25em;
        /* wrapper 继承了 sup 的 font-size 大小 */
        /* 在继承的基础上计算并重新赋值给 font-size */
        /* 等同于 font-size: 20 (1.25 x 16 = 20) */
    }

    .sub {
        font-size: 1.2em;
        /* sub 继承了 wrapper 的 font-size 大小 */
        /* 在继承的基础上计算并重新赋值给 font-size */
        /* 等同于 font-size: 24 (1.2 x 20 = 24) */

        padding: 1.5em;
        /* 这时候并不继承父元素的字体大小，而是根据自己的 font-size 进行计算 */
        /* 等同于 padding: 36 (1.5 x 24 = 36) */
    }
    ```

正因为存在着这些隐患，现在我们必须正确管理使用 `em` 单位。

## 为什么要使用？

[⬆️ 返回目录](#%E7%9B%AE%E5%BD%95)

- 为什么要使用 `rem` ？

    `rem` 单位提供最伟大的力量并不仅仅是他们提供一致尺寸而不是继承。

    相反，它给我们的一个途经去获取用户的偏好来影响网站中每一处使用 `rem` 的元素大小，不再是使用固定的 `px` 单位。

    为此，使用 `rem` 单位的主要目的应该是确保无论用户如何设置自己的浏览器，我们的布局都能调整到合适大小。

- 为什么要使用 `em` ？

    `em` 单位取决于一个 `font-size` 值而非 `html` 元素的字体大小。

    为此，`em` 单位的主要目的应该是允许保持在一个特定的设计元素范围内的可扩展性。

## 总结

[⬆️ 返回目录](#%E7%9B%AE%E5%BD%95)

- `rem` 单位翻译为像素值是由 `html` 元素的字体大小决定的。此字体大小会被浏览器中字体大小的设置影响，除非显式重写一个具体单位。
- `em` 单位转为像素值，取决于他们使用的字体大小。此字体大小受从父元素继承过来的字体大小，除非显式重写与一个具体单位。
- `rem` 和 `em` 单位是由浏览器基于你的设计中的字体大小计算得到的像素值。
- `em` 单位基于使用他们的元素的字体大小。
- `rem` 单位基于 `html` 元素的字体大小。
- `em` 单位可能受任何继承的父元素字体大小影响
- `rem` 单位可以从浏览器字体设置中继承字体大小。
- 使用 `em` 单位应根据组件的字体大小而不是根元素的字体大小。
- 在不需要使用 `em` 单位，并且需要根据浏览器的字体大小设置缩放的情况下使用 `rem`。
- 使用 `rem` 单位，除非你确定你需要 `em` 单位，包括对字体大小。
- 媒体查询中使用 `rem` 单位
- 不要在多列布局中使用 `em` 或 `rem` 改用 `%`。
- 不要使用 `em` 或 `rem`，如果缩放会不可避免地导致要打破布局元素。

## 参考资料

[综合指南: 何时使用 em 与 rem](https://webdesign.tutsplus.com/zh-hans/tutorials/comprehensive-guide-when-to-use-em-vs-rem--cms-23984)

[⬆️ 返回目录](#%E7%9B%AE%E5%BD%95)