## 概念

**BFC** 即 Block Formatting Contexts (块级格式化上下文)，它属于普通流，也就是位置由该元素在 HTML 文档中的位置决定。

它是页面中的一块「渲染区域」，并且有一套渲染规则，它决定了其子元素将如何定位，以及和其他元素的关系和相互作用。

具有 **BFC** 特性的元素可以看作是**隔离了的独立容器**，容器里面的元素不会在布局上影响到外面的元素，并且 **BFC** 具有普通容器所没有的一些特性。

通俗一点来讲，可以把 **BFC** 理解为一个封闭的大箱子，箱子内部的元素无论如何翻江倒海，都不会影响到外部，同样的，外部的元素也不会影响到 BFC 内部。

---

## 触发条件

只要元素满足下面任一条件即可触发 **BFC** 特性：

- `<body>` 根元素。
- 浮动元素：`float` 除 `none` 以外的值。
- 绝对定位元素：`position` 为 `absolute`、`fixed`。
- `display` 为 `inline-block`、`table-cells`、`flex`。
- `overflow` 除了 `visible` 以外的值 ( `hidden`、`auto`、`scroll` )

---

## 特性及应用

1. 同一个 **BFC** 下的相邻元素**会发生**「外边距折叠」。

    首先这不是 CSS 的 bug，我们可以理解为一种规范，如果想要避免外边距的重叠，可以将被折叠的元素放在不同的 **BFC** 容器中。

2. **BFC** 可以包含浮动的元素（ 清除浮动 ）

    当 **BFC** 计算高度时，为了不免浮动元素不会影响到外部的布局，浮动元素的高度也会参与计算。可以用以解决浮动元素高度父容器高度塌陷的问题。

3. **BFC** 可以阻止元素被浮动元素覆盖

    ```HTML
    <div style="height: 100px;width: 100px;float: left;background: lightblue">我是一个左浮动的元素</div>
    <div style="height: 200px;background: #eee">我是一个没有设置浮动, 也没有触发 BFC 元素, width: 200px; height:200px; background: #eee;</div>
    ```

    上面代码中的第一个元素（ 简称 **A** ）会覆盖在第二个元素（ 简称 **B** ）上，因为 **A** 设置了 `float: left` 浮动，为避免 **B** 被 **A** 覆盖，可以给 **B** 添加触发 **BFC** 的条件，如 `overflow: hidden`。

    上面的例子也可以用于「左边的**宽度固定**，右边的内容**自适应宽度**」的场景。