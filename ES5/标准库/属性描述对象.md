### æ¦‚è¿°

JavaScript æä¾›äº†ä¸€ä¸ªå†…éƒ¨æ•°æ®ç»“æ„ï¼Œç”¨æ¥æè¿°ä¸€ä¸ª**å¯¹è±¡çš„å±æ€§**çš„è¡Œä¸ºï¼Œæ§åˆ¶å®ƒçš„è¡Œä¸ºã€‚è¿™è¢«ç§°ä¸ºã€Œå±æ€§æè¿°å¯¹è±¡ã€ï¼ˆ attributes object ï¼‰ã€‚**æ¯ä¸ªå±æ€§**éƒ½æœ‰è‡ªå·±å¯¹åº”çš„å±æ€§æè¿°å¯¹è±¡ï¼Œä¿å­˜è¯¥å±æ€§çš„ä¸€äº›å…ƒä¿¡æ¯ã€‚

å±æ€§æè¿°å¯¹è±¡æä¾›6ä¸ªå…ƒå±æ€§ï¼š

```javascript
{
  value: 123,
  writable: false,
  enumerable: true,
  configurable: false,
  get: undefined,
  set: undefined
}
```

1. **value**

    `value` å­˜æ”¾è¯¥å±æ€§çš„ã€Œå±æ€§å€¼ã€ï¼Œ**é»˜è®¤**ä¸º `undefined`ã€‚

2. **writable**

    `writable` å­˜æ”¾ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå±æ€§å€¼ï¼ˆ value ï¼‰ã€Œæ˜¯å¦å¯æ”¹å˜ã€ï¼Œ**é»˜è®¤**ä¸º `true`ï¼Œå¦‚æœè®¾ä¸º `true` æ—¶ï¼Œ`value` æ‰èƒ½è¢«èµ‹å€¼è¿ç®—ç¬¦æ”¹å˜ã€‚

3. **enumerable**

    `enumerable` å­˜æ”¾ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å±æ€§ã€Œæ˜¯å¦å¯æšä¸¾ã€ï¼Œ**é»˜è®¤**ä¸º `true`ã€‚å¦‚æœè®¾ä¸º `false`ï¼Œä¼šä½¿å¾—æŸäº›æ“ä½œï¼ˆ æ¯”å¦‚ `for...in` å¾ªç¯ã€`Object.keys()` ï¼‰è·³è¿‡è¯¥å±æ€§ã€‚

4. **configurable**

    `configurable` å­˜æ”¾ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºã€Œå¯é…ç½®æ€§ã€ï¼Œ**é»˜è®¤**ä¸º `true`ã€‚å¦‚æœè®¾ä¸º `false`ï¼Œå°†é˜»æ­¢æŸäº›æ“ä½œæ”¹å†™è¯¥å±æ€§ï¼Œæ¯”å¦‚ï¼Œæ— æ³•åˆ é™¤è¯¥å±æ€§ï¼Œä¹Ÿä¸å¾—æ”¹å˜è¯¥å±æ€§çš„å±æ€§æè¿°å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`configurable` å±æ€§æ§åˆ¶äº†å±æ€§æè¿°å¯¹è±¡çš„å¯å†™æ€§ã€‚

5. **get**

    `get` å­˜æ”¾ä¸€ä¸ªå‡½æ•°ï¼Œè¡¨ç¤ºè¯¥å±æ€§çš„ã€Œå–å€¼å‡½æ•°ã€ï¼ˆ getter ï¼‰ï¼Œ**é»˜è®¤**ä¸º `undefined`ã€‚

6. **set**

    `set` å­˜æ”¾ä¸€ä¸ªå‡½æ•°ï¼Œè¡¨ç¤ºè¯¥å±æ€§çš„å­˜å€¼å‡½æ•°ï¼ˆ setter ï¼‰ï¼Œ**é»˜è®¤**ä¸º `undefined`ã€‚

---

### Object.getOwnPropertyDescriptor()

> è¯»å‡ºå¯¹è±¡è‡ªèº«å±æ€§çš„å±æ€§æè¿°å¯¹è±¡ã€‚

è¯¥å‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªä¸ºéœ€è¦æŸ¥æ‰¾çš„ç›®æ ‡å¯¹è±¡ï¼Œç¬¬äºŒä¸ªä¸ºç›®æ ‡å¯¹è±¡å†…å±æ€§åç§°ï¼ˆ **String** ç±»å‹ ï¼‰ã€‚

```javascript
var o = { p: 'a' }

Object.getOwnPropertyDescriptor(o, 'p')
// {value: "a", writable: true, enumerable: true, configurable: true}
```

---

### Object.defineProperty()ï¼ŒObject.defineProperties()

è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯ç”¨æ¥å®šä¹‰æˆ–è€…ä¿®ä¸ªå¯¹è±¡çš„å±æ€§ã€‚

#### 1. Object.defineProperty()

> ç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Š**å®šä¹‰**ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…**ä¿®æ”¹**ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚

`Object.defineProperty()` æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯ã€Œå±æ€§æ‰€åœ¨çš„å¯¹è±¡ã€ï¼Œç¬¬äºŒä¸ªæ˜¯ã€Œå±æ€§åã€ï¼ˆ **String** ç±»å‹ ï¼‰ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ã€Œå±æ€§çš„æè¿°å¯¹è±¡ã€ã€‚

è‹¥å±æ€§å·²ç»å­˜åœ¨ï¼Œ`Object.defineProperty()` æ–¹æ³•ç›¸å½“äºæ›´æ–°è¯¥å±æ€§çš„å±æ€§æè¿°å¯¹è±¡ã€‚

```javascript
// æ ¼å¼
Object.defineProperty(obj, prop, descriptor)

/* æ–°å»ºä¸€ä¸ª o å¯¹è±¡ï¼Œå¹¶å®šä¹‰å®ƒçš„ p å±æ€§ */
var o = Object.defineProperty({}, 'p', {
  value: 123,
  writable: false,
  enumerable: true,
  configurable: false
})

o.p // 123

o.p = 246
/* å› ä¸ºwritableä¸ºfalseï¼Œæ‰€ä»¥æ— æ³•æ”¹å˜è¯¥å±æ€§çš„å€¼ */
o.p // 123
```

#### Object.defineProperties()

`Object.defineProperties()` ç”¨æ¥ä¸€æ¬¡å®šä¹‰å¤šä¸ªå±æ€§ã€‚

```javascript
var o = Object.defineProperties({}, {
  p1: { value: 123, enumerable: true },
  p2: { value: 'abc', enumerable: true },
  p3: { get: function () { return this.p1 + this.p2 },
    enumerable:true,
    configurable:true
  }
})

o.p1 // 123
o.p2 // "abc"
o.p3 // "123abc"
```

æ³¨æ„ä¸Šé¢ä»£ç ä¸­çš„ `p3` å±æ€§ï¼Œå®šä¹‰äº†å–å€¼å‡½æ•° `get`ã€‚è¿™æ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦å®šä¹‰äº†å–å€¼å‡½æ•° `get`ï¼ˆ æˆ–å­˜å€¼å‡½æ•°`set` ï¼‰ï¼Œå°±ä¸èƒ½å°† `writable` è®¾ä¸º `true`ï¼Œæˆ–è€…åŒæ—¶å®šä¹‰ `value` å±æ€§ï¼Œå³ `value` å’Œ `get` åªèƒ½å­˜åœ¨ä¸€ä¸ªï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

```javascript
var o = {}

Object.defineProperty(o, 'p', {
  value: 123,
  get: function() { return 456 }
})
// TypeError: Invalid property descriptor. Cannot both specify accessors and a value or writable attribute, #<Object>
```

éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œ`Object.defineProperty()` æ–¹æ³•å’Œåé¢çš„ `Object.defineProperties()` æ–¹æ³•ï¼Œéƒ½æœ‰æ€§èƒ½æŸè€—ï¼Œä¼šæ‹–æ…¢æ‰§è¡Œé€Ÿåº¦ï¼Œ**ä¸å®œå¤§é‡ä½¿ç”¨**ã€‚

å¦‚æœæŸä¸ªå±æ€§æ²¡æœ‰è®¾ç½®å¯¹åº”çš„å†…å®¹ï¼Œå®ƒçš„ `writable`ã€`configurable`ã€`enumerable` è¿™ä¸‰ä¸ªå±æ€§çš„é»˜è®¤å€¼éƒ½ä¸º `false`ã€‚

```javascript
var obj = {}
Object.defineProperty(obj, 'foo', { configurable: true })
Object.getOwnPropertyDescriptor(obj, 'foo')
// {
//   value: undefined,
//   writable: false,
//   enumerable: false,
//   configurable: true
// }
```

---

### å…ƒå±æ€§

ç°åœ¨ç»™å‡ºå‡ ä¸ªå®ä¾‹åŠ æ·±å¯¹è¿™å‡ ä¸ªå±æ€§çš„è®¤è¯†ã€‚

#### 1. å¯æšä¸¾æ€§ï¼ˆ enumerable ï¼‰

**ç”±æ¥**

JavaScript çš„æœ€åˆç‰ˆæœ¬ï¼Œin è¿ç®—ç¬¦å’ŒåŸºäºå®ƒçš„ `for...in` å¾ªç¯ï¼Œä¼šéå†å¯¹è±¡å®ä¾‹çš„æ‰€æœ‰å±æ€§ï¼ŒåŒ…æ‹¬ç»§æ‰¿çš„å±æ€§ã€‚æ¯”å¦‚ï¼š`toString()` æ–¹æ³•ä¸æ˜¯ `obj` å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œä½†æ˜¯ `in` è¿ç®—ç¬¦ä¹Ÿè¿”å› `true`ï¼Œå¯¼è‡´è¢« `for...in` å¾ªç¯éå†ï¼Œè¿™æ˜¾ç„¶ä¸å¤ªåˆç†ã€‚åæ¥å°±å¼•å…¥äº†ã€Œå¯æšä¸¾æ€§ã€è¿™ä¸ªæ¦‚å¿µã€‚

åªæœ‰å¯æšä¸¾çš„å±æ€§ï¼Œæ‰ä¼šè¢« `for...in` å¾ªç¯éå†ï¼ŒåŒæ—¶è¿˜è§„å®šåŸç”Ÿç»§æ‰¿çš„å±æ€§éƒ½æ˜¯**ä¸å¯æšä¸¾**çš„ï¼Œè¿™æ ·å°±ä¿è¯äº† `for...in` å¾ªç¯çš„å¯ç”¨æ€§ã€‚

å› æ­¤ï¼Œ`enumerable` å¯ä»¥ç”¨æ¥è®¾ç½®ã€ç§˜å¯†ã€å±æ€§ï¼Œå˜¿å˜¿å˜¿ ğŸ˜

å¦‚æœä¸€ä¸ªå±æ€§çš„ `enumerable` ä¸º `false`ï¼Œä¸‹é¢ä¸‰ä¸ªæ“ä½œä¸ä¼šå–åˆ°è¯¥å±æ€§ï¼š

`for..in` å¾ªç¯

`Object.keys` æ–¹æ³•

`JSON.stringify` æ–¹æ³•

```javascript
var o = {a: 1, b: 2}

Object.defineProperty(o, 'c', {
  value: 3,
  enumerable: false
})
o.d = 4

o.d // 3

for (var key in o) {
  console.log(o[key])
}
// 1
// 2
// 4

Object.keys(o)  // ["a", "b", "d"]

JSON.stringify(o) // "{"a":1,"b":2,"d":4}"
```

#### 2. å¯é…ç½®æ€§ï¼ˆ configurable ï¼‰

å¯é…ç½®æ€§ï¼ˆ configurable ï¼‰å†³å®šäº†æ˜¯å¦å¯ä»¥ä¿®æ”¹å±æ€§æè¿°å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ `configurable` ä¸º `false` çš„æ—¶å€™ï¼Œ`value`ï¼ˆ å½“ `writable` ä¸º `false` æ—¶ï¼‰ã€`writable`ã€`enumerable` å’Œ `configurable` éƒ½ä¸èƒ½è¢«ä¿®æ”¹äº†ã€‚

```javascript
var o = Object.defineProperty({}, 'p', {
  value: 1,
  writable: false,
  enumerable: false,
  configurable: false
})

Object.defineProperty(o,'p', {value: 2})
// TypeError: Cannot redefine property: p

Object.defineProperty(o,'p', {writable: true})
// TypeError: Cannot redefine property: p

Object.defineProperty(o,'p', {enumerable: true})
// TypeError: Cannot redefine property: p

Object.defineProperties(o,'p',{configurable: true})
// TypeError: Cannot redefine property: p
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`writable` åªæœ‰åœ¨ä» `false` æ”¹ä¸º `true` ä¼šæŠ¥é”™ï¼Œä» `true` æ”¹ä¸º `false` åˆ™æ˜¯å…è®¸çš„ã€‚

è‡³äº `value`ï¼Œåªè¦ `writable` å’Œ `configurable` æœ‰ä¸€ä¸ªä¸º `true`ï¼Œå°±å…è®¸æ”¹åŠ¨ã€‚

```javascript
var o1 = Object.defineProperty({}, 'p', {
  value: 1,
  writable: true,
  configurable: false
})

Object.defineProperty(o1,'p', {value: 2})
// ä¿®æ”¹æˆåŠŸ

var o2 = Object.defineProperty({}, 'p', {
  value: 1,
  writable: false,
  configurable: true
})

Object.defineProperty(o2,'p', {value: 2})
// ä¿®æ”¹æˆåŠŸ
```

æ­¤å¤–ï¼Œå¯é…ç½®æ€§ï¼ˆ configurable ï¼‰å†³å®šäº†ä¸€ä¸ªå˜é‡æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼ˆ delete ï¼‰ã€‚

```javascript
var o = Object.defineProperties({}, {
  p1: { value: 1, configurable: true },
  p2: { value: 2, configurable: false }
})

delete o.p1 // true
delete o.p2 // false

o.p1 // undefined
o.p2 // 2
```

**éœ€è¦æ³¨æ„çš„æ˜¯**ï¼Œå½“ä½¿ç”¨ `var` å‘½ä»¤å£°æ˜å˜é‡æ—¶ï¼Œåªæœ‰å˜é‡çš„ `configurable` ä¸º `false`ï¼Œ`writable` å’Œ `enumerable` å‡ä¸º `true`ã€‚

è€Œä¸ä½¿ç”¨ `var` å‘½ä»¤å£°æ˜å˜é‡æ—¶ï¼ˆ æˆ–è€…ä½¿ç”¨å±æ€§èµ‹å€¼çš„æ–¹å¼å£°æ˜å˜é‡ ï¼‰ï¼Œå˜é‡çš„å¯é…ç½®æ€§ä¸º `true`ã€‚

```javascript
var a1 = 1

a2 = 1
// æˆ–è€…
window.a2 = 1

Object.getOwnPropertyDescriptor(this, 'a1')
// Object {
//  value: 1,
//  writable: true,
//  enumerable: true,
//  configurable: false
// }

Object.getOwnPropertyDescriptor(this,'a2')
// Object {
//  value: 1,
//  writable: true,
//  enumerable: true,
//  configurable: true
// }
```

#### 3. å¯å†™æ€§ï¼ˆ writable ï¼‰

> å¯å†™æ€§ï¼ˆ writable ï¼‰å†³å®šäº†å±æ€§çš„å€¼ï¼ˆ value ï¼‰æ˜¯å¦å¯ä»¥è¢«æ”¹å˜ã€‚

```javascript
var o = {}

Object.defineProperty(o, 'a', {
  value: 37,
  writable: false
})

o.a // 37
o.a = 25
o.a // 37
```

æ³¨æ„ï¼Œæ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå¯¹å¯å†™æ€§ä¸º `false` çš„å±æ€§èµ‹å€¼ä¸ä¼šæŠ¥é”™ï¼Œåªä¼šé»˜é»˜å¤±è´¥ã€‚

ä½†æ˜¯ï¼Œ**ä¸¥æ ¼æ¨¡å¼**ä¸‹ä¼šæŠ¥é”™ï¼Œå³ä½¿æ˜¯å¯¹ `a` å±æ€§é‡æ–°èµ‹äºˆä¸€ä¸ªåŒæ ·çš„å€¼ã€‚

å…³äºå¯å†™æ€§ï¼Œè¿˜æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚å°±æ˜¯å¦‚æœåŸå‹å¯¹è±¡çš„æŸä¸ªå±æ€§çš„å¯å†™æ€§ä¸º `false`ï¼Œé‚£ä¹ˆæ´¾ç”Ÿå¯¹è±¡å°†æ— æ³•è‡ªå®šä¹‰è¿™ä¸ªå±æ€§ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡è¦†ç›–å±æ€§æè¿°å¯¹è±¡æ¥è¾¾åˆ°ä¿®æ”¹çš„ç›®çš„ã€‚

```javascript
var proto = Object.defineProperty({}, 'foo', {
  value: 'a',
  writable: false
})

var o = Object.create(proto)

o.foo = 'b'
o.foo // 'a'

Object.defineProperty(o, 'foo', {
  value: 'b'
})

o.foo // 'b'
```

---

### Object.getOwnPropertyNames()

> è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å¯¹è±¡æœ¬èº«çš„æ‰€æœ‰å±æ€§çš„é”®åï¼Œä¸åŒ…å«ç»§æ‰¿çš„å±æ€§é”®åã€‚

è¯¦æƒ…ï¼š[Objectå¯¹è±¡ä¸ç»§æ‰¿ / Object.getOwnPropertyNames()](https://github.com/LBinin/LearnJS/blob/b761beb157fa01cab2ac47b8c0ee600d0ed5343d/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/Object%E5%AF%B9%E8%B1%A1%E4%B8%8E%E7%BB%A7%E6%89%BF.md#objectgetownpropertynames)

---

### Object.prototype.propertyIsEnumerable()

> åˆ¤æ–­å¯¹è±¡çš„æŸä¸ªå±æ€§æ˜¯å¦å¯æšä¸¾ã€‚

```javascript
var o = {}
o.p = 123

o.propertyIsEnumerable('p') // true å¯æšä¸¾çš„
o.propertyIsEnumerable('toString') // false ä¸å¯æšä¸¾
```

---

### å­˜å–å™¨ï¼ˆ accessor ï¼‰

é™¤äº†ç›´æ¥å®šä¹‰ä»¥å¤–ï¼Œå±æ€§è¿˜å¯ä»¥ç”¨å­˜å–å™¨ï¼ˆ accessor ï¼‰å®šä¹‰ã€‚

å…¶ä¸­ï¼Œå­˜å€¼å‡½æ•°ç§°ä¸º `setter`ï¼Œä½¿ç”¨ `set` å‘½ä»¤ï¼›

å–å€¼å‡½æ•°ç§°ä¸º `getter`ï¼Œä½¿ç”¨ `get` å‘½ä»¤ã€‚

å­˜å–å™¨æä¾›çš„æ˜¯**è™šæ‹Ÿå±æ€§**ï¼Œå³è¯¥å±æ€§çš„å€¼å®é™…æ˜¯ã€Œä¸å­˜åœ¨ã€çš„ï¼Œè€Œæ˜¯æ¯æ¬¡è¯»å–æ—¶è®¡ç®—ç”Ÿæˆçš„ã€‚åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥å®ç°è®¸å¤šé«˜çº§ç‰¹æ€§ï¼Œæ¯”å¦‚æ¯ä¸ªå±æ€§ç¦æ­¢èµ‹å€¼ã€‚

```javascript
var o = {
  get p() {
    return 'getter'
  },
  set p(value) {
    console.log('setter: ' + value)
  }
}

o.p // "getter"
o.p = 123 // "setter: 123"
```

å­˜å–å™¨å¾€å¾€ç”¨äºï¼Œå±æ€§çš„å€¼éœ€è¦ä¾èµ–å¯¹è±¡å†…éƒ¨æ•°æ®çš„åœºåˆï¼š

```javascript
var o ={
  $n : 5, // éœ€è¦å£°æ˜ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œé¿å…è¦†ç›–ã€‚
  get next() { return this.$n++ },
  set next(n) {
    if (n >= this.$n) this.$n = n
    else throw 'æ–°çš„å€¼å¿…é¡»å¤§äºå½“å‰å€¼'
  }
}

o.next // 5

o.next = 10
o.next // 10

o.next = 1 // Uncaught æ–°çš„å€¼å¿…é¡»å¤§äºå½“å‰å€¼
```

å­˜å–å™¨ä¹Ÿå¯ä»¥é€šè¿‡ `Object.defineProperty` å®šä¹‰ï¼š

```javascript
var d = new Date()

Object.defineProperty(d, 'month', {
  get: function () {
    return d.getMonth()
  },
  set: function (v) {
    d.setMonth(v)
  }
})
```

---

### å¯¹è±¡çš„æ‹·è´

è¯¦æƒ…ï¼š[å¯¹è±¡æ·±æµ…å¤åˆ¶](https://github.com/LBinin/LearnJS/blob/master/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E5%90%88%E9%9B%86.md#3-%E5%AF%B9%E8%B1%A1%E6%B7%B1%E6%B5%85%E5%A4%8D%E5%88%B6)

---

### æ§åˆ¶å¯¹è±¡çŠ¶æ€

JavaScript æä¾›äº†ä¸‰ç§æ–¹æ³•ï¼Œç²¾ç¡®æ§åˆ¶ä¸€ä¸ªå¯¹è±¡çš„è¯»å†™çŠ¶æ€ï¼Œé˜²æ­¢å¯¹è±¡è¢«æ”¹å˜ã€‚

æœ€å¼±ä¸€å±‚çš„ä¿æŠ¤æ˜¯ `Object.preventExtensions`ï¼Œå…¶æ¬¡æ˜¯ `Object.seal`ï¼Œæœ€å¼ºçš„ `Object.freeze`ã€‚

### 1. Object.preventExtensions()

> ä½¿å¾—ä¸€ä¸ªå¯¹è±¡æ— æ³•å†æ·»åŠ æ–°çš„å±æ€§ã€‚

```javascript
var o = new Object()

Object.preventExtensions(o)

Object.defineProperty(o, 'p', {
  value: 'hello'
})
// TypeError: Cannot define property:p, object is not extensible.

o.p = 1
o.p // undefined
```

ä¸è¿‡ï¼Œå¯¹äºä½¿ç”¨äº† `preventExtensions` æ–¹æ³•çš„å¯¹è±¡ï¼Œå¯ä»¥ç”¨ `delete` å‘½ä»¤åˆ é™¤å®ƒçš„ç°æœ‰å±æ€§ã€‚

```javascript
var o = new Object()
o.p = 1

Object.preventExtensions(o)

delete o.p
o.p // undefined
```

å¯ä»¥ä½¿ç”¨ `Object.isExtensible()` æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä½¿ç”¨äº† `Object.preventExtensions()` æ–¹æ³•ã€‚

```javascript
var o = new Object()

Object.isExtensible(o) // true
Object.preventExtensions(o)
Object.isExtensible(o) // false
```

#### 2. Object.seal()

> ä½¿å¾—ä¸€ä¸ªå¯¹è±¡æ—¢æ— æ³•æ·»åŠ æ–°å±æ€§ï¼Œä¹Ÿæ— æ³•åˆ é™¤æ—§å±æ€§ã€‚

`Object.seal` å®è´¨æ˜¯æŠŠå±æ€§æè¿°å¯¹è±¡çš„ `configurable` å±æ€§è®¾ä¸º `false`ï¼Œå› æ­¤å±æ€§æè¿°å¯¹è±¡ä¸å†èƒ½æ”¹å˜äº†ã€‚

```javascript
var o = {
  p: 'hello'
}

Object.seal(o)

delete o.p
o.p // "hello"

o.x = 'world'
o.x // undefined
```

åŒæ ·çš„ï¼Œå¯ä»¥ä½¿ç”¨ `Object.isSealed()` æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä½¿ç”¨äº† `Object.seal()` æ³•ã€‚è¿™æ—¶ï¼Œ`Object.isExtensible` æ–¹æ³•ä¹Ÿè¿”å› `false`ã€‚

```javascript
var o = { p: 'a' }

Object.seal(o)
Object.isSealed(o) // true
Object.isExtensible(o) // false
```

#### 3. Object.freeze()

> ä½¿å¾—ä¸€ä¸ªå¯¹è±¡æ— æ³•æ·»åŠ æ–°å±æ€§ã€æ— æ³•åˆ é™¤æ—§å±æ€§ã€ä¹Ÿæ— æ³•æ”¹å˜å±æ€§çš„å€¼ï¼Œä½¿å¾—è¿™ä¸ªå¯¹è±¡å®é™…ä¸Šå˜æˆäº†**å¸¸é‡**ã€‚

```javascript
var o = {
  p: 'hello'
}

Object.freeze(o)

o.p = 'world'
o.p // hello

o.t = 'hello'
o.t // undefined
```

åŒæ ·çš„ï¼Œå¯ä»¥ä½¿ç”¨ `Object.isFrozen()` æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä½¿ç”¨äº† `Object.freeze()` æ³•ã€‚

```javascript
var obj = {
  p: 'hello'
}

Object.freeze(obj)
Object.isFrozen(obj) // true
```

**å±€é™æ€§**

ä¸Šé¢çš„æ–¹æ³•é”å®šå¯¹è±¡çš„å¯å†™æ€§æœ‰ä¸€ä¸ªæ¼æ´ï¼Œä¾ç„¶å¯ä»¥é€šè¿‡æ”¹å˜åŸå‹å¯¹è±¡ï¼Œæ¥ä¸ºå¯¹è±¡å¢åŠ å±æ€§ã€‚ä½ å¯ä»¥æŠŠåŸå‹ä¹Ÿå†»ç»“ä½æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

```javascript
var obj = new Object()
Object.preventExtensions(obj)

var proto = Object.getPrototypeOf(obj)
proto.t = 'hello'
obj.t // hello
```

å¦å¤–ä¸€ä¸ªå±€é™æ˜¯ï¼Œå¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡ï¼Œä¸Šé¢è¿™äº›æ–¹æ³•åªèƒ½å†»ç»“å±æ€§æŒ‡å‘çš„å¯¹è±¡ï¼Œè€Œä¸èƒ½å†»ç»“å¯¹è±¡æœ¬èº«çš„å†…å®¹ã€‚

```javascript
var obj = {
  foo: 1,
  bar: ['a', 'b']
}
Object.freeze(obj)

obj.bar.push('c')
obj.bar // ["a", "b", "c"]
```

---

### ä¸ªäººæ€»ç»“

1. å…³äº `writable`ã€`enumerable`ã€`configurable` çš„é»˜è®¤å€¼æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„çš„ï¼š

    1. å¹¶ä¸æ˜¯æ‰€æœ‰ JavaScript åŸç”Ÿæä¾›çš„å±æ€§è¿™ä¸‰è€…éƒ½ä¸º `false`ã€‚
    2. å½“ä½¿ç”¨ `var` å‘½ä»¤å£°æ˜å˜é‡æ—¶ï¼Œå˜é‡çš„ `configurable` ä¸º `false`ï¼Œå…¶ä»–å±æ€§ä¸º `true`ã€‚
    2. å½“æ²¡æœ‰ä½¿ç”¨ `var` å‘½ä»¤å£°æ˜å˜é‡æ—¶ï¼Œå˜é‡çš„ `configurable` ä¸º `true`ï¼Œå…¶ä»–å±æ€§ä¸º `true`ã€‚
    2. å¦‚æœé€šè¿‡ç±»ä¼¼ `obj.a = 1` è¿™æ ·çš„æ–¹å¼å®šä¹‰çš„å±æ€§ï¼Œè¿™ä¸‰è€…**é»˜è®¤**éƒ½ä¸º `true`ã€‚
    3. å¦‚æœé€šè¿‡ç±»ä¼¼ `Object.defineProperty(obj, 'b', { value: 2 })` è¿™æ ·çš„æ–¹å¼å®šä¹‰çš„å±æ€§ï¼Œè¿™ä¸‰è€…æ²¡æœ‰è¢«å®šä¹‰åˆ°çš„å±æ€§**é»˜è®¤**éƒ½ä¸º `false`ã€‚

    ç¬¬ä¸‰ç‚¹å…¶å®å’Œç¬¬å››ç‚¹ç›¸åŒï¼Œä¸ä½¿ç”¨ `var` å£°æ˜çš„æ—¶å€™ï¼Œç›´æ¥å£°æ˜ `boj` ç›¸å½“äº `Window.obj`ã€‚

2. `configurable` å’Œ `writable` ä¹‹é—´çš„å…³ç³»ï¼š

    1. `configurable` ä¸º `false` çš„æ—¶å€™ï¼Œ`writable` å¯ä»¥ä» `true` æ”¹ä¸º `false`ï¼Œä½†æ˜¯ä¸èƒ½ä» `false` æ”¹ä¸º `true`ã€‚
    2. `writable` æ˜¯å†³å®šèƒ½å¤Ÿæ”¹å˜ `value` å±æ€§ï¼Œä½†æ˜¯ `configurable` å†³å®šçš„æ˜¯å…¶ä»–å±æ€§ï¼ˆ åŒ…æ‹¬ `value` ï¼‰èƒ½å¦è¢«ä¿®æ”¹ï¼Œç®¡è¾–èŒƒå›´ä¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ `writable` å’Œ `configurable` æœ‰ä¸€ä¸ªä¸º`true`ï¼Œ`value` å°±å…è®¸æ”¹åŠ¨ã€‚

